<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
    <title>性格颜色测试</title>
    <style>
      fieldset>label{
          display:block;
      }
      fieldset>label:hover{
          background-color:#3b99fc80;
      }
      button{
          display: block;
          width: 100%;
          color:#3b99fc;
          margin:1.5rem 0;
          font-size:1.5rem;
          padding:0.5rem 0;
      }
      img{
          max-width:100%;
      }
      h2{
        text-align:center;
      }
    </style>
  </head>
  <body>
    <h2>性格颜色测试</h2>
    <h4>(共计14小题，每题有两个选项，请二选其一。)</h4>
    <h3>Feeling&Thinking决策者</h3>
    <div id="decisionMake">
      <fieldset>
        <legend>1</legend>
        <label>
          <input type="radio" name="1">和谐很重要
        </label>
        <label>
          <input type="radio" name="1">和谐是达到目的的手段
        </label>
      </fieldset>
      <fieldset>
        <legend>2</legend>
        <label>
          <input type="radio" name="2">因为“感觉对”而采取行动
        </label>
        <label>
          <input type="radio" name="2">因为“合乎逻辑”而采取行动
        </label>
      </fieldset>
      <fieldset>
        <legend>3</legend>
        <label>
          <input type="radio" name="3">优先考虑人
        </label>
        <label>
          <input type="radio" name="3">优先考虑事
        </label>
      </fieldset>
      <fieldset>
        <legend>4</legend>
        <label>
          <input type="radio" name="4">喜欢和谐的关系
        </label>
        <label>
          <input type="radio" name="4">喜欢做对的事
        </label>
      </fieldset>
      <fieldset>
        <legend>5</legend>
        <label>
          <input type="radio" name="5">达成共识再决定
        </label>
        <label>
          <input type="radio" name="5">根据自己的想法来决定
        </label>
      </fieldset>
      <fieldset>
        <legend>6</legend>
        <label>
          <input type="radio" name="6">首先相信自己的感觉
        </label>
        <label>
          <input type="radio" name="6">首先相信自己的理智
        </label>
      </fieldset>
      <fieldset>
        <legend>7</legend>
        <label>
          <input type="radio" name="7">无法忍受冲突
        </label>
        <label>
          <input type="radio" name="7">有冲突也可以忍受
        </label>
      </fieldset>
    </div>
    <h3>Intuition&Sensing获取信息</h3>
    <div id="pickInfo">
      <fieldset>
        <legend>8</legend>
        <label>
          <input type="radio" name="8">依靠内在觉知
        </label>
        <label>
          <input type="radio" name="8">依靠观察
        </label>
      </fieldset>
      <fieldset>
        <legend>9</legend>
        <label>
          <input type="radio" name="9">更多思考的是“可能是什么”
        </label>
        <label>
          <input type="radio" name="9">更多思考的是“是什么”
        </label>
      </fieldset>
      <fieldset>
        <legend>10</legend>
        <label>
          <input type="radio" name="10">倾向创造
        </label>
        <label>
          <input type="radio" name="10">倾向常识
        </label>
      </fieldset>
      <fieldset>
        <legend>11</legend>
        <label>
          <input type="radio" name="11">依靠灵感采取行动
        </label>
        <label>
          <input type="radio" name="11">依靠谨慎分析采取行动
        </label>
      </fieldset>
      <fieldset>
        <legend>12</legend>
        <label>
          <input type="radio" name="12">喜欢研究抽象概念
        </label>
        <label>
          <input type="radio" name="12">喜欢研究事实和数据
        </label>
      </fieldset>
      <fieldset>
        <legend>13</legend>
        <label>
          <input type="radio" name="13">偏重全局
        </label>
        <label>
          <input type="radio" name="13">偏重细节
        </label>
      </fieldset>
      <fieldset>
        <legend>14</legend>
        <label>
          <input type="radio" name="14">喜欢有价值的想法
        </label>
        <label>
          <input type="radio" name="14">喜欢既定的事实
        </label>
      </fieldset>
    </div>
    <button>点击提交问卷</button>
    <p id="result"></p>
    <script>
      var button = document.querySelector('button');
      button.addEventListener('click', function(event){
          var self = event.target,
              list = document.querySelectorAll('input[type=radio]:checked');
          if(list.length == 14){
              var emotionValue = document.querySelectorAll('#decisionMake fieldset>label:nth-child(2) input[type=radio]:checked').length,
                  logicValue = 7 - emotionValue,
                  intuitValue = document.querySelectorAll('#pickInfo fieldset>label:nth-child(2) input[type=radio]:checked').length,
                  feelValue = 7 - intuitValue,
                  quadrant,
                  result;
              if(
                  logicValue > emotionValue
                  && intuitValue > feelValue
              ){
                  quadrant = '第一象限，蓝色性格'
              }else if(
                  logicValue < emotionValue
                  && intuitValue > feelValue
              ){
                  quadrant = '第二象限，绿色性格'
              }else if(
                  logicValue < emotionValue
                  && intuitValue < feelValue
              ){
                  quadrant = '第三象限，黄色性格'
              }else if(
                  logicValue > emotionValue
                  && intuitValue < feelValue
              ){
                  quadrant = '第四象限，橙色性格'
              }
              result = `情感F维度是:${emotionValue},思维T维度是:${logicValue},直觉N维度是:${intuitValue},感觉S维度是:${feelValue}。 \t\n</br>综上你属于：\t\n"${quadrant}"。 \r\n</br>如果想更深入了解自己的性格特色，快去请教凌霄美女吧！`;

              document.getElementById('result').innerHTML = 'buling buling~ 快来看看测试结果：<br/>'+result+'<br/><img src="https://raw.githubusercontent.com/doudizhu/1711212/master/692C1AD4-E969-435A-B6DF-78E4C7730EB4.png">';
//               alert(result);
              // 滚动至评测结果位置
              var offsetTop = self.offsetTop,
                  documentHeight = document.documentElement.offsetHeight,
                  viewportHeight = window.innerHeight,
                  scrollBottom = documentHeight - viewportHeight,

                  timer = setInterval(function () {
                      var scrollTop = document.documentElement.scrollTop,
                          speed = Math.floor((offsetTop - scrollTop) / 6);
                      if (speed == 0 || scrollTop == scrollBottom) {
                          clearInterval(timer);
                      }
                      document.documentElement.scrollTop = scrollTop + speed;
                  }, 30);
          }else{
              alert('问卷还没答完哦～')
          }
      });
    </script>
  </body>
</html>
